<!DOCTYPE html> 
<html lang="fr"> 
    <head> 
        <meta charset="UTF-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <title>Dashboard - Medaldex</title>         
        <script src="https://cdn.tailwindcss.com"></script>         
        <script src="/i18n.js" defer></script>         
    </head>     
    <body class="bg-gradient-to-b from-black via-gray-900 to-gray-800 text-white"> 
        <!-- Navbar -->         
        <header class="bg-black border-b border-gray-700"> 
            <nav class="container mx-auto flex justify-between items-center p-4">
                <script type="module">
  import { createClient } from "https://esm.sh/@supabase/supabase-js@2";
  import { SUPABASE_URL, SUPABASE_ANON_KEY } from "/config.js";

  const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

  document.getElementById("logoutBtn").addEventListener("click", async () => {
    await supabase.auth.signOut();
    window.location.href = "/login/";
  });
</script>                 <a href="/" class="text-2xl font-bold text-gray-200 tracking-wide" data-i18n="app.title"></a> 
                <ul class="hidden md:flex gap-6 font-medium"> 
                    <li>
                        <a href="/dashboard/" class="text-gray-200 hover:text-gray-400">🏠 Dashboard</a>
                    </li>                     
                    <li>
                        <a href="/collection/" class="hover:text-gray-400">📚 Collection</a>
                    </li>                     
                    <li>
                        <a href="/add/" class="hover:text-gray-400">➕ <span data-i18n="dashboard.actions.add"></span></a>
                    </li>                     
                    <li>
                        <a href="/profile/" class="hover:text-gray-400">👤 Profile</a>
                    </li>
                    <button id="logoutBtn" class="bg-gray-800 text-gray-200 px-4 py-2 rounded"> 
                        Déconnexion
</button>                     
                </ul>                 
                <select id="langSwitcher" class="bg-gray-800 text-gray-200 border border-gray-600 rounded p-1"> 
                    <option value="fr">🇫🇷 FR</option>                     
                    <option value="en">🇬🇧 EN</option>                     
                </select>                 
            </nav>             
        </header>         
        <!-- Dashboard content -->         
        <main class="container mx-auto py-12 px-6"> 
            <!-- Titre -->             
            <h1 class="text-3xl font-bold mb-6" data-i18n="dashboard.hello" data-i18n-vars='{"name":"Jean"}'></h1> 
            <p class="text-gray-400 mb-8">Voici un aperçu rapide de ta collection :</p> 
            <!-- Stats -->             
            <div class="grid md:grid-cols-3 gap-6 mb-12"> 
                <div class="bg-gray-900 border border-gray-700 rounded-xl shadow p-6 text-center"> 
                    <h2 class="text-2xl font-bold text-gray-200">128</h2> 
                    <p class="text-gray-400" data-i18n="dashboard.stats.medals"></p> 
                </div>                 
                <div class="bg-gray-900 border border-gray-700 rounded-xl shadow p-6 text-center"> 
                    <h2 class="text-2xl font-bold text-gray-200">12</h2> 
                    <p class="text-gray-400" data-i18n="dashboard.stats.countries"></p> 
                </div>                 
                <div class="bg-gray-900 border border-gray-700 rounded-xl shadow p-6 text-center"> 
                    <h2 class="text-2xl font-bold text-gray-200">5</h2> 
                    <p class="text-gray-400" data-i18n="dashboard.stats.rare"></p> 
                </div>                 
            </div>             
            <!-- Actions -->             
            <div class="grid md:grid-cols-3 gap-6"> <a href="/add/" class="bg-gray-200 text-black rounded-xl p-6 shadow hover:bg-white transition flex flex-col items-center">  <span class="text-3xl">➕</span>  <span class="mt-2 font-semibold" data-i18n="dashboard.actions.add"></span>  </a> <a href="/collection/" class="bg-gray-900 border border-gray-600 text-gray-200 rounded-xl p-6 shadow hover:bg-gray-800 transition flex flex-col items-center">  <span class="text-3xl">📚</span>  <span class="mt-2 font-semibold" data-i18n="dashboard.actions.collection"></span>  </a> <a href="/profile/" class="bg-gray-900 border border-gray-600 text-gray-200 rounded-xl p-6 shadow hover:bg-gray-800 transition flex flex-col items-center">  <span class="text-3xl">👤</span>  <span class="mt-2 font-semibold" data-i18n="dashboard.actions.profile"></span>  </a> 
            </div>             
        </main>         
        <footer class="bg-gray-900 text-gray-400 py-6 text-center mt-12 border-t border-gray-700"> 
            <p data-i18n="footer.rights"></p> 
        </footer>
        <script type="module">
  import { createClient } from "https://esm.sh/@supabase/supabase-js@2";
  import { SUPABASE_URL, SUPABASE_ANON_KEY } from "/config.js";

  const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

  // Vérifier si un utilisateur est connecté
  const { data: { user } } = await supabase.auth.getUser();

  if (!user) {
    window.location.href = "/login/";
  } else {
    console.log("Utilisateur connecté :", user.email);
    document.getElementById("welcome").innerText = "Bienvenue " + user.email;
  }
</script>         
    </body>     
</html>
